{"version":3,"sources":["core.js"],"names":["window","$e","Start","internal","controlVars","update","finish","sd","Date","getTime","time","miliseconds","interval","setInterval","alerted","exceeded","d","t","elapsedTime","deltaTime","speed","FPS","FPSsum","FPScount","Update","lossedFrames","alert","$d","LogWarning","maxFPS","user","udpate","e","LogError","UpdatePhysics","DrawObjects","DrawFPS","ctx","font","fillStyle","fillText","Math","round","tempObj","i","phycs","length","kinematic","CheckCollision","collider","checked","rotation","angularVelocity","velocity","x","force","y","world","gravity","pos","bounce","obj","v3","Vector2","dist","magnitude","maxRadius","a","FindAxisLeastPenetration","contactPoint","bestDistance","faceIndex","undefined","GetSupport","dir","bestProjection","bestVertex","vertexs","vr","rotate","v","projection","dot","A","B","bestIndex","n","normals","s","sv","globalAlpha","globals","opacity","background","fillRect","size","layers","f","Draw","debug","color","translate","PI","beginPath","type","arc","radius","moveTo","lineTo","strokeStyle","stroke","started","canvas","startTime","start","drag","maxForce","this","init","getContext","width","height","setMaxFPS","value","setDebug","setSpeed","stats","Log","FormatMiliseconds","Stats","add2DObject","layer","ind","push","Object2D","name","mass","scale","prototype","addForce","forceType","setCollider","BoxCollider","BaseCollider","call","calculateNormals","CircleCollider","PolygonCollider","next","normal","multiply","mul","normalized","l","sqrt","v2","cross","angle","atan2","cosa","cos","sina","sin","toString"],"mappings":"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"}