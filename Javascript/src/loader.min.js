var $loader={};!function(e){function t(e,t){var a=new XMLHttpRequest;a.onreadystatechange=function(){this.readyState==this.DONE&&t({size:parseInt(a.getResponseHeader("Content-Length")),version:a.getResponseHeader("Driconmax-Script-Version")})},a.open("HEAD",e,!0),a.send()}e.script=function(e,t){this.name=e,this.url=t,this.size=0};var a,o=[],n=0,r=0,i=-1,l=0,s=!1;e.addscript=function(e){o.push(e)},e.addscripts=function(e){for(var t=0;t<e.length;t++){var a=e[t];o.push(a)}},e.start=function(){if(void 0==a){for(var d=0;d<o.length;d++){var c=o[d];!function(e){t(e.url,function(t){n++,r+=t.size,e.size=t.size,e.version=t.version})}(c)}a=setInterval(function(){if(n==o.length)if(s||void 0==e.onstart||e.onstart({totalbytes:r}),s=!0,l==o.length)clearInterval(a),e.progress=100,e.loaded=!0,void 0!=e.onload&&e.onload();else if(l!=i)try{i=l;var t=o[l],d=new XMLHttpRequest;d.addEventListener("progress",function(t){if(t.lengthComputable){var a=Math.round(t.loaded/t.total*100);e.progress=100/o.length*l+a/o.length,void 0!=e.onprogresschange&&e.onprogresschange({progress:e.progress,current:{fileindex:l+1,name:o[l].name,version:o[l].version,size:t.total,progress:a},totalfiles:o.length})}},!1),d.addEventListener("load",function(e){var t=e.target,a=document.createElement("script");a.type="application/javascript",a.innerHTML=t.responseText;var o=document.getElementsByTagName("head")[0];if(null==o||void 0==o)throw"The HTML tag HEAD is not defined";o.appendChild(a),l++},!1),d.open("GET",t.url),d.send()}catch(c){console.error("Loader error: "+c)}},100)}else console.warn("Loader already started")},e.stop=function(){void 0!=a?(clearInterval(a),console.warn("Loader stopped")):console.warn("The loader is not running")}}($loader);
//# sourceMappingURL=loader.min.js.map